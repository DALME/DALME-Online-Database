{% load get_recent_features %}

{% get_recent_features as recent_features %}
{% if recent_features %}
  <div class="featured-object-nav">
    <h4 class="u-small-caps-heading">{{ recent_features.title }}</h4>
    <div class="u-flex flex-column">
      {% for year, obj in recent_features.features.items %}
        <div class="d-flex mb-3">
          <div class="u-small-caps-heading u-bottom-to-top year">{{ year }}</div>
            <div class="feature-year-container">
              {% for data in obj %}
                {% if data.url and data.url != page.url %}
                  <div class="feature-month-container">
                    <a href="{{ data.url }}">{{ data.month }}</a>
                  </div>
                {% else %}
                  <div class="feature-month-container {% if data.url == page.url %}current{% endif %}">{{ data.month }}</div>
                {% endif %}
                {% if forloop.counter != 1 and forloop.counter|divisibleby:"3" %}
                  <hr>
                {% endif %}
              {% endfor %}
            </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endif %}

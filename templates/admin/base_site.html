{% extends "admin/base.html" %}
{% load staticfiles %}

{% block title %}DALME | Site Administration{% endblock %}

{% block extrahead %}
	<!-- CSS and JavaScript for django-todo -->
	<link rel="stylesheet" type="text/css" href="{% static 'todo/css/styles.css' %}" />
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script src="{% static 'todo/js/jquery.tablednd_0_5.js' %}" type="text/javascript"></script>
	<script type="text/javascript" charset="utf-8">
	    // thedate.x comes from the edit_task view. If this is a new entry,
	    // thedate won't be present and datepicker will fall back on the default (today).
	    $(document).ready(function(){
	        $('#id_due_date').datepicker({defaultDate: new Date({{thedate.year}}, {{thedate.month}} - 1, {{thedate.day}}),});
	     });
	</script>
{% endblock extrahead %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">DALME Administration</a></h1>
{% endblock %}

{% block nav-global %}{% endblock %}
<!--GHP: the following use of the 'with' statement is a bloody appalling hack. I'm leaving it here only until I figure out how to use permissions properly-->
{% block usertools %}
{% with has_permission=1 site_url='http://127.0.0.1:8000/' %}
{{ block.super }}
{% endwith %}
{% endblock %}

{% block userlinks %}
    <a href="{% url 'todo-lists' %}"> Task Manager </a> /
    {{ block.super }}
{% endblock %}
